<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Applied Synergetics: Dynamic Complexity in a Clinical Case Study • casnet</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Applied Synergetics: Dynamic Complexity in a Clinical Case Study">
<meta property="og:description" content="casnet">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">casnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CRQA.html">(Cross-) Recurrence Quantification Analysis</a>
    </li>
    <li>
      <a href="../articles/RecurrenceNetworks.html">Recurrence Networks</a>
    </li>
    <li>
      <a href="../articles/dynamiccomplexity.html">Applied Synergetics: Dynamic Complexity in a Clinical Case Study</a>
    </li>
    <li>
      <a href="../articles/scalingphenomena.html">Quantifying Scaling Phenomena in Time Series</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/FredHasselman/casnet/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="dynamiccomplexity_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Applied Synergetics: Dynamic Complexity in a Clinical Case Study</h1>
                        <h4 class="author">Fred Hasselman &amp; Merlijn Olthof</h4>
            
            <h4 class="date">2020-10-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/FredHasselman/casnet/blob/master/vignettes/dynamiccomplexity.Rmd"><code>vignettes/dynamiccomplexity.Rmd</code></a></small>
      <div class="hidden name"><code>dynamiccomplexity.Rmd</code></div>

    </div>

    
    
<div id="applied-synergetics-dynamic-complexity" class="section level1">
<h1 class="hasAnchor">
<a href="#applied-synergetics-dynamic-complexity" class="anchor"></a><strong>Applied Synergetics: Dynamic Complexity</strong>
</h1>
<div id="early-warning-signals-in-a-clinical-case-study" class="section level2">
<h2 class="hasAnchor">
<a href="#early-warning-signals-in-a-clinical-case-study" class="anchor"></a>Early Warning Signals in a Clinical Case Study</h2>
<p>Dynamic assessment, for example, ecological momentary assesment (EMA), is used more frequently in scientific studies on mental health. Process monitoring with dynamic assessment can empower patients and benefits self-insight (van Os et al., 2017). Additionally, EMA time series can be analysed and the results can be used to inform the treatment process.</p>
<p>In this vignette, we’ll use complex systems theory and methodology developed to analyse fluctuations in rating scale time series to perform a quantitative case study for real patient data. We’ll analyze publicly available EMA data from 1 patient that was drawn from a personalized psychotherapy study (cf. Fisher &amp; Boswell, 2016) and was analysed by several different teams in a ‘Many Analysists’ study: <a href="https://doi.org/10.31234/osf.io/c8vp7"><em>Time to get personal? The impact of researchers’ choices on the selection of treatment targets using the experience sampling methodology</em></a> by Bastiaansen et al. (2019).</p>
<p>We use the theoretical and analytic framework developed by Haken and Schiepek (2006), based on the mathematical theory of <em>Synergetics</em>, specifically the <em>Dynamic Complexity Measure</em> (Schiepek &amp; Strunk, 2010). The main purpose of the vignette is to showcase the <em>Dynamic Complexity functions</em> family in <code>casnet</code>. The choice for the imputation method is explained in the vignette <em>Dealing with missing values in time series</em>.</p>
<div id="load-clincal-case-data-from-osf" class="section level3">
<h3 class="hasAnchor">
<a href="#load-clincal-case-data-from-osf" class="anchor"></a>Load clincal case data from OSF</h3>
<p>Load the data used by Bastiaansen et al. (2019) from the Open Science Framework.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># # Load data from OSF https://osf.io/tcnpd/</span>
<span class="co"># require(osfr)</span>
<span class="co"># manyAnalystsESM &lt;- rio::import(osfr::osf_download(osfr::osf_retrieve_file("tcnpd") , overwrite = TRUE)$local_path)</span>

<span class="co"># Or use the internal data</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">)</span></pre></div>
</div>
<div id="dealing-with-missing-values" class="section level3">
<h3 class="hasAnchor">
<a href="#dealing-with-missing-values" class="anchor"></a>Dealing with missing values</h3>
<p>Most variables were measured three times in one day. We’ll check the time series for missing values using package <code>imputeTS</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SteffenMoritz/imputeTS">imputeTS</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/stefvanbuuren/mice">mice</a></span><span class="op">)</span>

<span class="co"># We want to use these variables</span>
<span class="co"># Note: the infix function '%ci%' is from package 'invctr'</span>
<span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="st">"energetic"</span><span class="op">%ci%</span><span class="va">manyAnalystsESM</span>,<span class="st">"procrast"</span><span class="op">%ci%</span><span class="va">manyAnalystsESM</span><span class="op">)</span>,<span class="st">"avoid_people"</span><span class="op">%ci%</span><span class="va">manyAnalystsESM</span><span class="op">)</span>

<span class="va">df_vars</span> <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">[</span>,<span class="va">vars</span><span class="op">]</span>

<span class="co"># Plot the timeseries with NAs in red</span>
<span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">)</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span>,<span class="fl">4</span><span class="op">)</span>,mar <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu">l_ply</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq_along</a></span><span class="op">(</span><span class="va">vars</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">c</span><span class="op">)</span><span class="op">{</span>
  <span class="fu">imputeTS</span><span class="fu">::</span><span class="fu"><a href="https://SteffenMoritz.github.io/imputeTS/reference/ggplot_na_distribution.html">ggplot_na_distribution</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">[</span>,<span class="va">c</span><span class="op">]</span><span class="op">)</span>, 
                                title<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">)</span><span class="op">[</span><span class="va">c</span><span class="op">]</span>, 
                                xlab <span class="op">=</span> <span class="st">""</span>,ylab <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></pre></div>
<p><code>NA</code> values seem to occur at the same time points across variables. This indicates the participant might have been unable to respond at those times and was not selectively omitting questions. See the vignette <a href="https://fredhasselman.com/casnet/articles/imputemissingdata.html">Dealing with missing values in time series</a></p>
<p>It’s a good practice to always compare results based on imputation to non-imputed data, se we’ll create two datasets:</p>
<ol style="list-style-type: decimal">
<li>Remove all <code>NA</code> values</li>
<li>Ipute missing data using the <em>Multivariate Imputation by Chained Equations</em> method implemented in package <code>mice</code>.</li>
</ol>
<p>From the description of the package: &gt; The mice package implements a method to deal with missing data. The package creates multiple imputations (replacement values) for multivariate missing data. The method is based on Fully Conditional Specification, where each incomplete variable is imputed by a separate model.</p>
<p>The function <code><a href="https://rdrr.io/pkg/mice/man/mice.html">mice()</a></code> will try to select an imputation method based on the variable type if we leave the <code>method</code> argument empty. Here we’ll use <code>method = "cart"</code> to impute all missing data using <em>Classification And Regression Trees</em>. The same results can be obtained using the <em>Random Forest</em> method.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># 1. Remove NA </span>
<span class="va">out.NA</span> <span class="op">&lt;-</span> <span class="va">df_vars</span><span class="op">[</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">)</span>,<span class="op">]</span>

<span class="co"># 2. Classification And Regression Trees / Random Forests</span>
<span class="co"># RF and CART return (identical) discrete numbers</span>
<span class="va">imp.cart</span>  <span class="op">&lt;-</span> <span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mice/man/mice.html">mice</a></span><span class="op">(</span><span class="va">df_vars</span>, method <span class="op">=</span> <span class="st">'cart'</span>, printFlag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">out.cart</span>  <span class="op">&lt;-</span> <span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mice/man/complete.mids.html">complete</a></span><span class="op">(</span><span class="va">imp.cart</span><span class="op">)</span>


<span class="co"># Plot the timeseries with NAs in red</span>
<span class="kw">for</span><span class="op">(</span><span class="va">c</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"angry"</span><span class="op">%ci%</span><span class="va">df_vars</span>,<span class="st">"ruminate"</span><span class="op">%ci%</span><span class="va">df_vars</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Remove NA\n"</span><span class="op">)</span>
  <span class="fu">imputeTS</span><span class="fu">::</span><span class="fu"><a href="https://SteffenMoritz.github.io/imputeTS/reference/ggplot_na_imputations.html">ggplot_na_imputations</a></span><span class="op">(</span>x_with_na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">[</span>,<span class="va">c</span><span class="op">]</span><span class="op">)</span>,
                               x_with_imputations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">[</span>,<span class="va">c</span><span class="op">]</span><span class="op">%00%</span><span class="fl">0</span><span class="op">)</span>,
                               title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">)</span><span class="op">[</span><span class="va">c</span><span class="op">]</span>,<span class="st">"NA removed"</span><span class="op">)</span>, xlab <span class="op">=</span> <span class="st">""</span>, ylab <span class="op">=</span> <span class="st">""</span><span class="op">)</span>

  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Classification And Regression Trees\n"</span><span class="op">)</span>
  <span class="fu">imputeTS</span><span class="fu">::</span><span class="fu"><a href="https://SteffenMoritz.github.io/imputeTS/reference/ggplot_na_imputations.html">ggplot_na_imputations</a></span><span class="op">(</span>x_with_na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">[</span>,<span class="va">c</span><span class="op">]</span><span class="op">)</span>,
                               x_with_imputations <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">out.cart</span><span class="op">[</span>,<span class="va">c</span><span class="op">]</span><span class="op">)</span>,
                               title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">)</span><span class="op">[</span><span class="va">c</span><span class="op">]</span>,<span class="st">"CART"</span><span class="op">)</span>, xlab <span class="op">=</span> <span class="st">""</span>, ylab <span class="op">=</span> <span class="st">""</span><span class="op">)</span>
<span class="op">}</span></pre></div>
<pre><code>&gt; Remove NA
&gt; Classification And Regression Trees
&gt; Remove NA
&gt; Classification And Regression Trees</code></pre>
</div>
</div>
<div id="phase-transitions-as-sudden-gains-and-losses" class="section level2">
<h2 class="hasAnchor">
<a href="#phase-transitions-as-sudden-gains-and-losses" class="anchor"></a>Phase transitions as sudden gains and losses</h2>
<p>A (sudden) qualitative change in the behavioural regime of a system is often considered to be a shift from one relatively stable attractor-state to another. This shift is referred to as a phase, or, order transition. Phase transitions are preceded by a period of destabilization in which the stability of the existing attractor-state decreases (as a consequence of changing control parameters). During destabilization, the system loses its resilience to external influences (i.e. resistance to perturbation). Thas is often reflected by an increase in fluctuations and disorder in the behaviour of the system (critical fluctuations) and an increase in the time it takes to return to attractor-states from which the sytem it perturbed (critical slowing down). Destabilization ends abruptly when the system makes a phase transition towards a new stable state. Critical fluctuations and critical slowing down can therefore serve as early-warning signals (EWS) for imminent phase transitions.</p>
<p>Onset of pathology (e.g. psychosis), relapse in addiction, suicide attempts, sudden gains and losses, etc. Destabilization is most of the time a good thing in treatment: The goal of treatment is to change (destabilize) the existing stable, delibitating state into another stable state that is less problematic. During destabilization, the patient is expexted to be increasingly sensitive to external influences, or, perturbations (e.g. treatment). Destabilization could turn out to be a period in which an intervention has optimal results.</p>
<div id="state-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#state-variables" class="anchor"></a>State variables</h3>
<p>Often, the purpose of detecting early warning signals is to predict changes in a state variable, for example a test for depressive symptoms, or, a broad assesment by a therapist, measured once a week. Here we do not have clear apriori state variables, we’ll use the less densely measured variables on sleep quality as potential states. These variables were measured once per day:</p>
<ul>
<li>
<code>hours</code> (how many hours did you sleep last night?)</li>
<li>
<code>difficult</code> (experienced difficulty falling or staying asleep)</li>
<li>
<code>unsatisfy</code> (experienced restless or unsatisfying sleep)</li>
</ul>
<p>We’ll assume these variables indicate a “global sate” of the system.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="co"># Use the date information in the dataset to create time series objects</span>
<span class="va">dates</span>      <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">start</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">unsatisfy</span><span class="op">)</span><span class="op">]</span>
<span class="va">days</span>       <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">dates</span>, <span class="st">"%m/%d/%Y"</span><span class="op">)</span>
<span class="va">hours</span>      <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">hours</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">hours</span><span class="op">)</span><span class="op">]</span>
<span class="va">difficult</span>  <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">difficult</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">difficult</span><span class="op">)</span><span class="op">]</span>
<span class="va">unsatisfy</span>  <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">unsatisfy</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">unsatisfy</span><span class="op">)</span><span class="op">]</span>

<span class="va">df_sleep</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>days <span class="op">=</span> <span class="va">days</span>,
                       hours_sleep <span class="op">=</span> <span class="va">hours</span>,
                       difficult_sleep <span class="op">=</span> <span class="va">difficult</span>,
                       unsatisfy_sleep <span class="op">=</span> <span class="va">unsatisfy</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="va">variable</span>, value <span class="op">=</span> <span class="va">quality_sleep</span>, <span class="op">-</span><span class="va">days</span>, factor_key <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df_sleep</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">days</span>, y <span class="op">=</span> <span class="va">quality_sleep</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>pch<span class="op">=</span><span class="fl">16</span>, size<span class="op">=</span><span class="fl">2</span>, colour <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">variable</span><span class="op">~</span><span class="va">.</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_date</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">days</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
                     axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, vjust <span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-4-1.png" width="504" style="display: block; margin: auto;"></p>
</div>
<div id="detecting-periods-of-relative-stability-using-recursive-partitioning" class="section level3">
<h3 class="hasAnchor">
<a href="#detecting-periods-of-relative-stability-using-recursive-partitioning" class="anchor"></a>Detecting periods of relative stability using recursive partitioning</h3>
<p>We can use function <code><a href="../reference/ts_levels.html">ts_levels()</a></code> to evaluate whether there are sudden jumps (gains or losses) in the data. The method uses function <code><a href="https://rdrr.io/pkg/rpart/man/rpart.html">rpart::rpart()</a></code> and has several arguments that control when a level should be considered, that is, how many datapoints should a level last minimally; how much must the signal change before a new level is considered, etc. Check the manual pages for more details. `</p>
<p>The value of <code>minDataSplit</code> tells the algorithm how many data points need to be in a segment before a change of level is considered. Here we choose <code>minDataSplit = 6</code>, which is 2 days.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">minSplit</span> <span class="op">=</span> <span class="fl">6</span>
<span class="va">lvl1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">hours</span>, minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>
<span class="va">lvl2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">difficult</span>, minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span> 
<span class="va">lvl3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">unsatisfy</span>, minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span> 

<span class="co"># ggplot likes the long data format</span>
<span class="va">df_sleep</span><span class="op">$</span><span class="va">level</span> <span class="op">&lt;-</span>  
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>days <span class="op">=</span> <span class="va">days</span>,
             hours_sleep_lvl <span class="op">=</span> <span class="va">lvl1</span><span class="op">$</span><span class="va">pred</span><span class="op">$</span><span class="va">p</span>,
             difficult_sleep_lvl <span class="op">=</span> <span class="va">lvl2</span><span class="op">$</span><span class="va">pred</span><span class="op">$</span><span class="va">p</span>,
             unsatisfy_sleep_lvl <span class="op">=</span> <span class="va">lvl3</span><span class="op">$</span><span class="va">pred</span><span class="op">$</span><span class="va">p</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="va">variable_lvl</span>, value <span class="op">=</span> <span class="va">level</span>, <span class="op">-</span><span class="va">days</span>, factor_key <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="st">"level"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>
  
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df_sleep</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">days</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">quality_sleep</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">quality_sleep</span><span class="op">)</span>, pch<span class="op">=</span><span class="fl">16</span>, size<span class="op">=</span><span class="fl">2</span>, colour <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">level</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">"red3"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">variable</span><span class="op">~</span><span class="va">.</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html">scale_x_date</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">days</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
                     axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, vjust <span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-5-1.png" width="504" style="display: block; margin: auto;"></p>
<p>There appear to be more or less synchronous <code>jumps</code> and <code>stages</code>, or, <code>levels</code> in the raw data of variables <code>difficult</code> and <code>unsatisfy</code>. The levels in variable <code>hours</code>, representing hours of sleep seem to show the inverted pattern.</p>
</div>
</div>
<div id="detecting-early-warning-signals-ews-using-dynamic-complexity" class="section level2">
<h2 class="hasAnchor">
<a href="#detecting-early-warning-signals-ews-using-dynamic-complexity" class="anchor"></a>Detecting Early Warning Signals (EWS) using Dynamic Complexity</h2>
<p>Now it is time to analyze the dynamic complexity of the ESM time series and see if we can find early-warning signals.</p>
<p>Use <code><a href="../reference/dc_win.html">dc_win()</a></code> to calculate Dynamic Complexity. The function can also call <code><a href="../reference/plotDC_res.html">plotDC_res()</a></code> to produce a <em>Complexity Resonance Diagram</em>.</p>
<p>We need to make sure all variables are on the same scale, for this dataset there’s no need to transform, all data are on a scale of <code>0-100</code>. If no value is passed to arguments <code>from_scale_min</code> and <code>from_scale_max</code> and argument <code>rescale = TRUE</code> then the minimum and maximum value in each column will be used. This should be used if scale limits are unknown (or <code>-Inf</code> and <code>+Inf</code>). If the theoretical limits are known, they should be passed. If the data contain a mix of known scale ranges, transformation should be done manually.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="va">win</span> <span class="op">=</span> <span class="fl">6</span>

<span class="co"># NA removed </span>
<span class="va">dc.caseNA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dc_win.html">dc_win</a></span><span class="op">(</span><span class="va">out.NA</span>, win <span class="op">=</span> <span class="va">win</span>, scale_min<span class="op">=</span><span class="fl">0</span>, scale_max<span class="op">=</span><span class="fl">100</span>, doPlot <span class="op">=</span> <span class="cn">TRUE</span>, colOrder <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-6-1.png" width="504" style="display: block; margin: auto;"></p>
<p>Dynamic complexity is calculated as a product of <em>fluctuation intensity</em> calculated by function <code><a href="../reference/dc_f.html">dc_f()</a></code> and <em>distribution uniformity</em> calculated by <code><a href="../reference/dc_d.html">dc_d()</a></code>. These functions can be called seperately, or, you can set the argument <code>returnFandD = TRUE</code> in function <code><a href="../reference/dc_win.html">dc_win()</a></code>.</p>
<p>There are several options for sorting the variables on the y-axis by setting the <code>colOrder</code> argument. If set to <code>TRUE</code> like the figure above the order variables appear as columns in the dataframe will be used. Setting it to <code>FALSE</code> will sort by vasriable name.</p>
<p>We can use the <code>df</code> field of the <code><a href="../reference/dc_win.html">dc_win()</a></code> output as input for <code><a href="../reference/plotDC_res.html">plotDC_res()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_res.html">plotDC_res</a></span><span class="op">(</span>df_win <span class="op">=</span> <span class="va">dc.caseNA</span>, win <span class="op">=</span> <span class="va">win</span>, doPlot <span class="op">=</span> <span class="cn">TRUE</span>, colOrder <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-7-1.png" width="504" style="display: block; margin: auto;"></p>
<p>An interesting option is to sort by the mean value of Dynamic Complexity, to do so set the <code>colOrder</code> argument to <code>NA</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_res.html">plotDC_res</a></span><span class="op">(</span>df_win <span class="op">=</span> <span class="va">dc.caseNA</span>, win <span class="op">=</span> <span class="va">win</span>, doPlot <span class="op">=</span> <span class="cn">TRUE</span>, colOrder <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-8-1.png" width="504" style="display: block; margin: auto;"></p>
<p>Let’s compare to the <code>cart</code> imputation by MICE.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co"># CART with observed scale</span>
<span class="va">dc.caseIMP</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dc_win.html">dc_win</a></span><span class="op">(</span><span class="va">out.cart</span>, win<span class="op">=</span><span class="va">win</span>, scale_min<span class="op">=</span><span class="fl">0</span>, scale_max<span class="op">=</span><span class="fl">100</span>, colOrder <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu"><a href="../reference/plotDC_res.html">plotDC_res</a></span><span class="op">(</span>df_win <span class="op">=</span> <span class="va">dc.caseIMP</span>, win <span class="op">=</span> <span class="va">win</span>, doPlot <span class="op">=</span> <span class="cn">TRUE</span>, colOrder <span class="op">=</span> <span class="cn">NA</span>, title <span class="op">=</span> <span class="st">"Complexity Resonance Diagram (CART)"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-9-1.png" width="504" style="display: block; margin: auto;"></p>
<p>There are some differences, and this is expected of course when imputing or removing <code>NA</code>s. To see how these differences may affect the inference of periods of destabilisation we run the <em>Cumulative Complexity Peak</em> analysis on both datasets.</p>
<div id="cumulative-complexity-peaks" class="section level4">
<h4 class="hasAnchor">
<a href="#cumulative-complexity-peaks" class="anchor"></a>Cumulative Complexity Peaks</h4>
<p>The Cumulative Complexity Peak analysis identifies time points in which Dynamic Complexity in multiple items is high and therefore should be considered a period of destabilisation. First, it identifies for each time point which peaks are significantly <code>&gt; 0</code>, by calculating Z-scores for each column (time point) and comparing to a critical Z-value (one-sided). Then, the number of significant peaks for each time point is determined and this distribution is again transformed into Z-scores and evaluated for <code>&gt; 0</code>.</p>
<p>If we plot 2 versions of the analysis, the differences between the methods are apparent, but overall both methods seem to recover the same periods of destabilisation.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="co"># Use the date information in the dataset to create time series objects</span>
<span class="va">datesNA</span> <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">start</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">)</span><span class="op">]</span>
<span class="va">daysNA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="va">datesNA</span>, <span class="st">"%m/%d/%Y"</span><span class="op">)</span>

<span class="va">ccp.caseNA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dc_ccp.html">dc_ccp</a></span><span class="op">(</span>df_win <span class="op">=</span> <span class="va">dc.caseNA</span><span class="op">)</span>
<span class="fu"><a href="../reference/plotDC_ccp.html">plotDC_ccp</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseNA</span>, win <span class="op">=</span> <span class="va">win</span>, colOrder <span class="op">=</span> <span class="cn">NA</span>, title <span class="op">=</span> <span class="st">"Cumulative Complexity Peak Plot (Remove missing values)"</span>, useTimeVector <span class="op">=</span> <span class="va">daysNA</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-10-1.png" width="504" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="va">datesIMP</span>      <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">start</span>
<span class="va">dateTimesIMP</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="va">datesIMP</span>, <span class="st">"%m/%d/%Y %H:%M"</span><span class="op">)</span>
<span class="va">ccp.caseIMP</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dc_ccp.html">dc_ccp</a></span><span class="op">(</span>df_win <span class="op">=</span> <span class="va">dc.caseIMP</span><span class="op">)</span>
<span class="co"># Change the time stamp fromat</span>
<span class="fu"><a href="../reference/plotDC_ccp.html">plotDC_ccp</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseIMP</span>, win <span class="op">=</span> <span class="va">win</span>, colOrder <span class="op">=</span> <span class="cn">NA</span>, 
           useTimeVector <span class="op">=</span> <span class="va">dateTimesIMP</span>, timeStamp <span class="op">=</span> <span class="st">"31-01-99"</span>,
           title <span class="op">=</span> <span class="st">"Cumulative Complexity Peak Plot (CART)"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-10-2.png" width="504" style="display: block; margin: auto;"></p>
<p>We can query which timepoints a Complexity Peaks were registered.</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="co"># Remove NA</span>
<span class="va">dateTimesNA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="va">datesNA</span>, <span class="st">"%m/%d/%Y %H:%M"</span><span class="op">)</span>
<span class="va">dateTimesNA</span><span class="op">[</span><span class="va">ccp.caseNA</span><span class="op">$</span><span class="va">sig.peaks</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">]</span></pre></div>
<pre><code>&gt; [1] "2014-11-02 21:27:00 CET" "2014-11-03 09:54:00 CET"
&gt; [3] "2014-11-03 17:42:00 CET" "2014-11-10 21:05:00 CET"
&gt; [5] "2014-11-12 21:37:00 CET" "2014-11-18 13:54:00 CET"
&gt; [7] "2014-11-27 09:29:00 CET"</code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="co">#  CART</span>
<span class="va">dateTimesIMP</span><span class="op">[</span><span class="va">ccp.caseIMP</span><span class="op">$</span><span class="va">sig.peaks</span><span class="op">&gt;</span><span class="fl">0</span><span class="op">]</span></pre></div>
<pre><code>&gt;  [1] "2014-11-02 21:27:00 CET" "2014-11-03 09:54:00 CET"
&gt;  [3] "2014-11-10 17:45:00 CET" "2014-11-10 21:05:00 CET"
&gt;  [5] "2014-11-12 21:37:00 CET" "2014-11-14 21:15:00 CET"
&gt;  [7] "2014-11-15 09:18:00 CET" "2014-11-15 13:30:00 CET"
&gt;  [9] "2014-11-18 13:54:00 CET" "2014-11-25 21:22:00 CET"
&gt; [11] "2014-11-26 13:12:00 CET"</code></pre>
</div>
</div>
<div id="plot-state-versus-complexity" class="section level2">
<h2 class="hasAnchor">
<a href="#plot-state-versus-complexity" class="anchor"></a>Plot ‘state’ versus complexity</h2>
<p>One could look for a single variable that best predicts level changes, e.g. by looking at crosscorrelation functions, or by extracting peak-complexity times and gain/loss events can average the time course of dynamic complexity in a number of ways. Here we use the</p>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="co"># Dates for state variables</span>
<span class="va">dates</span>       <span class="op">&lt;-</span> <span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">start</span>
<span class="va">dateTimesS</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="va">dates</span>, <span class="st">"%m/%d/%Y %H:%M"</span><span class="op">)</span><span class="op">)</span>
<span class="va">idNA</span>        <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">df_vars</span><span class="op">)</span>

<span class="va">df_lvl_hrs</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">hours</span>,minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>
<span class="va">df_lvl_diff</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">difficult</span>,minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>
<span class="va">df_lvl_unsat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">unsatisfy</span>,minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>

<span class="va">df_lvl_hrsNA</span>   <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">hours</span><span class="op">[</span><span class="va">idNA</span><span class="op">]</span>,minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>
<span class="va">df_lvl_diffNA</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">difficult</span><span class="op">[</span><span class="va">idNA</span><span class="op">]</span>,minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>
<span class="va">df_lvl_unsatNA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_levels.html">ts_levels</a></span><span class="op">(</span><span class="va">manyAnalystsESM</span><span class="op">$</span><span class="va">unsatisfy</span><span class="op">[</span><span class="va">idNA</span><span class="op">]</span>,minDataSplit <span class="op">=</span> <span class="va">minSplit</span><span class="op">)</span>

<span class="fu"><a href="../reference/plotDC_lvl.html">plotDC_lvl</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseIMP</span>, df_win <span class="op">=</span> <span class="va">dc.caseIMP</span>, df_lvl <span class="op">=</span> <span class="va">df_lvl_hrs</span>, useTimeVector <span class="op">=</span> <span class="va">dateTimesS</span>, win <span class="op">=</span> <span class="va">win</span>, subtitle <span class="op">=</span> <span class="st">"CART"</span>, levelName <span class="op">=</span> <span class="st">"Hours sleep"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-12-1.png" width="504" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_lvl.html">plotDC_lvl</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseNA</span>, df_win <span class="op">=</span> <span class="va">dc.caseNA</span>, df_lvl <span class="op">=</span> <span class="va">df_lvl_hrsNA</span>, useTimeVector <span class="op">=</span> <span class="va">dateTimesS</span><span class="op">[</span><span class="va">idNA</span><span class="op">]</span>, win <span class="op">=</span> <span class="va">win</span>, subtitle <span class="op">=</span> <span class="st">"Remove NA"</span>, levelName <span class="op">=</span> <span class="st">"Hours sleep"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-12-2.png" width="504" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_lvl.html">plotDC_lvl</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseIMP</span>, df_win <span class="op">=</span> <span class="va">dc.caseIMP</span>, df_lvl <span class="op">=</span> <span class="va">df_lvl_diff</span>, useTimeVector <span class="op">=</span> <span class="va">dateTimesS</span>, win <span class="op">=</span> <span class="va">win</span>, subtitle <span class="op">=</span> <span class="st">"CART"</span>, levelName <span class="op">=</span> <span class="st">"Difficulty sleeping"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-12-3.png" width="504" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb20"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_lvl.html">plotDC_lvl</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseNA</span>, df_win <span class="op">=</span> <span class="va">dc.caseNA</span>, df_lvl <span class="op">=</span> <span class="va">df_lvl_diffNA</span>, useTimeVector <span class="op">=</span> <span class="va">dateTimesS</span><span class="op">[</span><span class="va">idNA</span><span class="op">]</span>, win <span class="op">=</span> <span class="va">win</span>, subtitle <span class="op">=</span> <span class="st">"Remove NA"</span>, levelName <span class="op">=</span> <span class="st">"Difficulty sleeping"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-12-4.png" width="504" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_lvl.html">plotDC_lvl</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseIMP</span>, df_win <span class="op">=</span> <span class="va">dc.caseIMP</span>, df_lvl <span class="op">=</span> <span class="va">df_lvl_unsat</span>, useTimeVector <span class="op">=</span> <span class="va">dateTimesS</span>, win <span class="op">=</span> <span class="va">win</span>, subtitle <span class="op">=</span> <span class="st">"CART"</span>, levelName <span class="op">=</span> <span class="st">"Unsatisfactory sleep"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-12-5.png" width="504" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb22"><pre class="downlit">
<span class="fu"><a href="../reference/plotDC_lvl.html">plotDC_lvl</a></span><span class="op">(</span>df_ccp <span class="op">=</span> <span class="va">ccp.caseNA</span>, df_win <span class="op">=</span> <span class="va">dc.caseNA</span>, df_lvl <span class="op">=</span> <span class="va">df_lvl_unsatNA</span>, useTimeVector <span class="op">=</span> <span class="va">dateTimesS</span><span class="op">[</span><span class="va">idNA</span><span class="op">]</span>, win <span class="op">=</span> <span class="va">win</span>, subtitle <span class="op">=</span> <span class="st">"Remove NA"</span>, levelName <span class="op">=</span> <span class="st">"Unsatisfactory sleep"</span><span class="op">)</span></pre></div>
<p><img src="dynamiccomplexity_files/figure-html/unnamed-chunk-12-6.png" width="504" style="display: block; margin: auto;"></p>
<p>Look for max complexity peaks around level changes.</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Bastiaansen, J. A., Kunkels, Y. K., Blaauw, F., Boker, S. M., Ceulemans, E., Chen, M., … Bringmann, L. F. (2019, March 21). Time to get personal? The impact of researchers’ choices on the selection of treatment targets using the experience sampling methodology. <a href="https://doi.org/10.31234/osf.io/c8vp7" class="uri">https://doi.org/10.31234/osf.io/c8vp7</a></p>
<p>Fisher, A. J., &amp; Boswell, J. F. (2016). Enhancing the personalization of psychotherapy with dynamic assessment and modeling. <em>Assessment, 23(4)</em>, 496–506. <a href="https://doi.org/10.1177/1073191116638735" class="uri">https://doi.org/10.1177/1073191116638735</a></p>
<p>Haken H, &amp; Schiepek G. (2006). <em>Synergetik in der Psychologie. Selbstorganisation verstehen und gestalten</em>. Hogrefe, Göttingen.</p>
<p>Schiepek, G. (2003). A Dynamic Systems Approach to Clinical Case Formulation. <em>European Journal of Psychological Assessment, 19</em>, 175-184. <a href="https://doi.org/10.1027//1015-5759.19.3.175" class="uri">https://doi.org/10.1027//1015-5759.19.3.175</a></p>
<p>Schiepek, G., &amp; Strunk, G. (2010). The identification of critical fluctuations and phase transitions in short term and coarse-grained time series-a method for the real-time monitoring of human change processes. <em>Biological cybernetics, 102(3)</em>, 197-207. <a href="https://doi.org/10.1007/s00422-009-0362-1" class="uri">https://doi.org/10.1007/s00422-009-0362-1</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Fred Hasselman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
