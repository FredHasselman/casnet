<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Elastic Scaler - A Flexible Rescale Function — elascer • casnet</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Elastic Scaler - A Flexible Rescale Function — elascer" />
<meta property="og:description" content="The 'elastic scaler'will rescale numeric vectors (1D, or columns in a matrix or data.frame) to a user defined minimum and maximum, either based on the extrema in the data, or, a minimum and maximum defined by the user." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">casnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/RecurrenceNetworks.html">Recurrence Networks</a>
    </li>
    <li>
      <a href="../articles/dynamiccomplexity.html">Applied Synergetics: Dynamic Complexity in a Clinical Case Study</a>
    </li>
    <li>
      <a href="../articles/scalingphenomena.html">Quantifying Scaling Phenomena in Time Series</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/FredHasselman/casnet/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Elastic Scaler - A Flexible Rescale Function</h1>
    <small class="dont-index">Source: <a href='https://github.com/FredHasselman/casnet/blob/master/R/helpers.R'><code>R/helpers.R</code></a></small>
    <div class="hidden name"><code>elascer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The 'elastic scaler'will rescale numeric vectors (1D, or columns in a matrix or data.frame) to a user defined minimum and maximum, either based on the extrema in the data, or, a minimum and maximum defined by the user.</p>
    </div>

    <pre class="usage"><span class='fu'>elascer</span>(
  <span class='kw'>x</span>,
  mn = <span class='fl'>NA</span>,
  mx = <span class='fl'>NA</span>,
  lo = <span class='fl'>0</span>,
  hi = <span class='fl'>1</span>,
  groupwise = <span class='fl'>FALSE</span>,
  keepNA = <span class='fl'>TRUE</span>,
  boundaryPrecision = <span class='fl'>NA</span>,
  tol = <span class='kw'>.Machine</span><span class='op'>$</span><span class='kw'>double.eps</span><span class='op'>^</span><span class='fl'>0.5</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Input vector or data frame.</p></td>
    </tr>
    <tr>
      <th>mn</th>
      <td><p>Minimum value of original, defaults to <code><a href='https://rdrr.io/r/base/Extremes.html'>min(x, na.rm = TRUE)</a></code> if set to <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>mx</th>
      <td><p>Maximum value of original, defaults to <code><a href='https://rdrr.io/r/base/Extremes.html'>max(x, na.rm = TRUE)</a></code> if set to <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>lo</th>
      <td><p>Minimum value to rescale to, defaults to <code>0</code>.</p></td>
    </tr>
    <tr>
      <th>hi</th>
      <td><p>Maximum value to rescale to, defaults to <code>1</code>.</p></td>
    </tr>
    <tr>
      <th>groupwise</th>
      <td><p>If <code>x</code> is a data frame with <code>2+</code> columns, <code>mn = NA</code> and/or <code>mx = NA</code> and <code>groupwise = TRUE</code>, scaling will occur</p></td>
    </tr>
    <tr>
      <th>keepNA</th>
      <td><p>Keep <code>NA</code> values?</p></td>
    </tr>
    <tr>
      <th>boundaryPrecision</th>
      <td><p>If set to <code>NA</code> the precision of the input will be the same as the precision of the output. This can cause problems when detecting values that lie just outside of, or, exactly on boundaries given by <code>lo</code> and <code>hi</code>, e.g. after saving the data using a default precision. Setting <code>boundaryPrecision</code> to an integer value will ensure that the boundaries of the new scale are given by <code><a href='https://rdrr.io/r/base/Round.html'>round(..., digits = boundaryPrecision)</a></code>. Alternatively one could just round all the output after rescaling to a desired precision (default = <code>NA</code>)</p></td>
    </tr>
    <tr>
      <th>tol</th>
      <td><p>The tolerance for deciding wether a value is on the boundary <code>lo</code> or <code>hi</code> (default = <code>.Machine$double.eps^0.5)</code>)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>scaled inout</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Three uses:</p><ol>
<li><p>elascer(x)             - Scale x to data range: min(x.out)==0;      max(x.out)==1</p></li>
<li><p>elascer(x,mn,mx)       - Scale x to arg. range: min(x.out)==mn==0;  max(x.out)==mx==1</p></li>
<li><p>elascer(x,mn,mx,lo,hi) - Scale x to arg. range: min(x.out)==mn==lo; max(x.out)==mx==hi</p></li>
</ol>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Works on numeric objects</span>
<span class='kw'>somenumbers</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='op'>-</span><span class='fl'>5</span>,<span class='fl'>100</span>,<span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span>(<span class='fl'>2</span>)),<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/Log.html'>exp</a></span>(<span class='fl'>1</span>),<span class='fl'>0</span>,<span class='op'>-</span><span class='kw'>pi</span>))

<span class='co'># Using the defaults:</span>
<span class='co'># 1. mn and mx are derived globally (groupWise = FALSE)</span>
<span class='co'># 2. values rescaled to hi and lo are integers, 0 and 1 respectively</span>
<span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>)
</div><div class='output co'>#&gt;           V1         V2
#&gt; 1 0.00000000 0.07350745
#&gt; 2 1.00000000 0.04761905
#&gt; 3 0.06108775 0.01769912</div><div class='input'>
<span class='co'># If the data contain values &lt; mn they will return as &lt; lo</span>
<span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>,mn=<span class='op'>-</span><span class='fl'>100</span>)
</div><div class='output co'>#&gt;          V1        V2
#&gt; 1 0.4750000 0.5135914
#&gt; 2 1.0000000 0.5000000
#&gt; 3 0.5070711 0.4842920</div><div class='input'><span class='co'># If the data contain values &gt; mx they will return &gt; hi</span>
<span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>,mx=<span class='fl'>99</span>)
</div><div class='output co'>#&gt;           V1         V2
#&gt; 1 0.00000000 0.07421425
#&gt; 2 1.00961538 0.04807692
#&gt; 3 0.06167513 0.01786930</div><div class='input'>
<span class='co'># Effect of setting groupWise</span>
<span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>,lo=<span class='op'>-</span><span class='fl'>1</span>,hi=<span class='fl'>1</span>)
</div><div class='output co'>#&gt;           V1         V2
#&gt; 1 -1.0000000 -0.8529851
#&gt; 2  1.0000000 -0.9047619
#&gt; 3 -0.8778245 -0.9646018</div><div class='input'><span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>,lo=<span class='op'>-</span><span class='fl'>1</span>,hi=<span class='fl'>1</span>, groupwise = <span class='fl'>TRUE</span>)
</div><div class='output co'>#&gt;           V1          V2
#&gt; 1 -1.0000000  1.00000000
#&gt; 2  1.0000000  0.07223889
#&gt; 3 -0.8778245 -1.00000000</div><div class='input'>
<span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>,mn=<span class='op'>-</span><span class='fl'>10</span>,mx=<span class='fl'>100</span>,lo=<span class='op'>-</span><span class='fl'>1</span>,hi=<span class='fl'>4</span>)
</div><div class='output co'>#&gt;           V1         V2
#&gt; 1 -0.7727273 -0.4218963
#&gt; 2  4.0000000 -0.5454545
#&gt; 3 -0.4811721 -0.6882542</div><div class='input'><span class='fu'>elascer</span>(<span class='kw'>somenumbers</span>,mn= <span class='fl'>NA</span>,mx=<span class='fl'>100</span>,lo=<span class='op'>-</span><span class='fl'>1</span>,hi=<span class='fl'>4</span>, groupwise = <span class='fl'>TRUE</span>)
</div><div class='output co'>#&gt;           V1         V2
#&gt; 1 -1.0000000 -0.7159306
#&gt; 2  4.0000000 -0.8477049
#&gt; 3 -0.6945613 -1.0000000</div><div class='input'>
<span class='co'># Effect of setting boundaryPrecision</span>
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='fl'>1</span><span class='op'>/</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>/</span><span class='fl'>7</span>)

<span class='kw'>re1</span> <span class='op'>&lt;-</span> <span class='fu'>elascer</span>(<span class='kw'>x</span>, lo = <span class='fl'>0</span>, hi = <span class='fl'>1</span><span class='op'>/</span><span class='fl'>13</span>, boundaryPrecision = <span class='fl'>NA</span>)
<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='kw'>re1</span>)<span class='op'>==</span><span class='fl'>0.07692308</span> <span class='co'># FALSE</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='kw'>re1</span>)<span class='op'>==</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>13</span>       <span class='co'># TRUE</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='kw'>re2</span> <span class='op'>&lt;-</span> <span class='fu'>elascer</span>(<span class='kw'>x</span>, lo = <span class='fl'>0</span>, hi = <span class='fl'>1</span><span class='op'>/</span><span class='fl'>13</span>, boundaryPrecision = <span class='fl'>8</span>)
<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='kw'>re2</span>)<span class='op'>==</span><span class='fl'>0.07692308</span> <span class='co'># TRUE</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='kw'>re2</span>)<span class='op'>==</span><span class='fl'>1</span><span class='op'>/</span><span class='fl'>13</span>       <span class='co'># FALSE</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Fred Hasselman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


