<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Elastic Scaler - A Flexible Rescale Function — elascer • casnet</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Elastic Scaler - A Flexible Rescale Function — elascer"><meta name="description" content="The 'elastic scaler'will rescale numeric vectors (1D, or columns in a matrix or data.frame) to a user defined minimum and maximum, either based on the extrema in the data, or, a minimum and maximum defined by the user."><meta property="og:description" content="The 'elastic scaler'will rescale numeric vectors (1D, or columns in a matrix or data.frame) to a user defined minimum and maximum, either based on the extrema in the data, or, a minimum and maximum defined by the user."><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">casnet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/CRQA.html">Recurrence Quantification Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/dynamiccomplexity.html">Dynamic Complexity as an Early-Warning Indicator for Clinical Change</a></li>
    <li><a class="dropdown-item" href="../articles/scalingphenomena.html">Quantifying Scaling Phenomena in Time Series</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/FredHasselman/casnet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Elastic Scaler - A Flexible Rescale Function</h1>
      <small class="dont-index">Source: <a href="https://github.com/FredHasselman/casnet/blob/HEAD/R/helpers.R" class="external-link"><code>R/helpers.R</code></a></small>
      <div class="d-none name"><code>elascer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The 'elastic scaler'will rescale numeric vectors (1D, or columns in a matrix or data.frame) to a user defined minimum and maximum, either based on the extrema in the data, or, a minimum and maximum defined by the user.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">elascer</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  mn <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  mx <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  lo <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  hi <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  groupwise <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keepNA <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  boundaryPrecision <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  tol <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">^</span><span class="fl">0.5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Input vector or data frame.</p></dd>


<dt id="arg-mn">mn<a class="anchor" aria-label="anchor" href="#arg-mn"></a></dt>
<dd><p>Minimum value of original, defaults to <code>min(x, na.rm = TRUE)</code> if set to <code>NA</code>.</p></dd>


<dt id="arg-mx">mx<a class="anchor" aria-label="anchor" href="#arg-mx"></a></dt>
<dd><p>Maximum value of original, defaults to <code>max(x, na.rm = TRUE)</code> if set to <code>NA</code>.</p></dd>


<dt id="arg-lo">lo<a class="anchor" aria-label="anchor" href="#arg-lo"></a></dt>
<dd><p>Minimum value to rescale to, defaults to <code>0</code>.</p></dd>


<dt id="arg-hi">hi<a class="anchor" aria-label="anchor" href="#arg-hi"></a></dt>
<dd><p>Maximum value to rescale to, defaults to <code>1</code>.</p></dd>


<dt id="arg-groupwise">groupwise<a class="anchor" aria-label="anchor" href="#arg-groupwise"></a></dt>
<dd><p>If <code>x</code> is a data frame with <code>2+</code> columns, <code>mn = NA</code> and/or <code>mx = NA</code> and <code>groupwise = TRUE</code>, scaling will occur</p></dd>


<dt id="arg-keepna">keepNA<a class="anchor" aria-label="anchor" href="#arg-keepna"></a></dt>
<dd><p>Keep <code>NA</code> values?</p></dd>


<dt id="arg-boundaryprecision">boundaryPrecision<a class="anchor" aria-label="anchor" href="#arg-boundaryprecision"></a></dt>
<dd><p>If set to <code>NA</code> the precision of the input will be the same as the precision of the output. This can cause problems when detecting values that lie just outside of, or, exactly on boundaries given by <code>lo</code> and <code>hi</code>, e.g. after saving the data using a default precision. Setting <code>boundaryPrecision</code> to an integer value will ensure that the boundaries of the new scale are given by <code>round(..., digits = boundaryPrecision)</code>. Alternatively one could just round all the output after rescaling to a desired precision (default = <code>NA</code>)</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>The tolerance for deciding wether a value is on the boundary <code>lo</code> or <code>hi</code> (default = <code>.Machine$double.eps^0.5)</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>scaled inout</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Three uses:</p><ol><li><p>elascer(x)             - Scale x to data range: min(x.out)==0;      max(x.out)==1</p></li>
<li><p>elascer(x,mn,mx)       - Scale x to arg. range: min(x.out)==mn==0;  max(x.out)==mx==1</p></li>
<li><p>elascer(x,mn,mx,lo,hi) - Scale x to arg. range: min(x.out)==mn==lo; max(x.out)==mx==hi</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Works on numeric objects</span></span></span>
<span class="r-in"><span><span class="va">somenumbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">100</span>,<span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,<span class="fl">0</span>,<span class="op">-</span><span class="va">pi</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using the defaults:</span></span></span>
<span class="r-in"><span><span class="co"># 1. mn and mx are derived globally (groupWise = FALSE)</span></span></span>
<span class="r-in"><span><span class="co"># 2. values rescaled to hi and lo are integers, 0 and 1 respectively</span></span></span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           V1         V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.00000000 0.07350745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.00000000 0.04761905</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.06108775 0.01769912</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If the data contain values &lt; mn they will return as &lt; lo</span></span></span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span>,mn<span class="op">=</span><span class="op">-</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          V1        V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.4750000 0.5135914</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.0000000 0.5000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.5070711 0.4842920</span>
<span class="r-in"><span><span class="co"># If the data contain values &gt; mx they will return &gt; hi</span></span></span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span>,mx<span class="op">=</span><span class="fl">99</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           V1         V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.00000000 0.07421425</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1.00961538 0.04807692</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.06167513 0.01786930</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Effect of setting groupWise</span></span></span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span>,lo<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,hi<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           V1         V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -1.0000000 -0.8529851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1.0000000 -0.9047619</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.8778245 -0.9646018</span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span>,lo<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,hi<span class="op">=</span><span class="fl">1</span>, groupwise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           V1          V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -1.0000000  1.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1.0000000  0.07223889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.8778245 -1.00000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span>,mn<span class="op">=</span><span class="op">-</span><span class="fl">10</span>,mx<span class="op">=</span><span class="fl">100</span>,lo<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,hi<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           V1         V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -0.7727273 -0.4218963</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  4.0000000 -0.5454545</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.4811721 -0.6882542</span>
<span class="r-in"><span><span class="fu">elascer</span><span class="op">(</span><span class="va">somenumbers</span>,mn<span class="op">=</span> <span class="cn">NA</span>,mx<span class="op">=</span><span class="fl">100</span>,lo<span class="op">=</span><span class="op">-</span><span class="fl">1</span>,hi<span class="op">=</span><span class="fl">4</span>, groupwise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           V1         V2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -1.0000000 -0.7159306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  4.0000000 -0.8477049</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.6945613 -1.0000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Effect of setting boundaryPrecision</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">/</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">re1</span> <span class="op">&lt;-</span> <span class="fu">elascer</span><span class="op">(</span><span class="va">x</span>, lo <span class="op">=</span> <span class="fl">0</span>, hi <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">13</span>, boundaryPrecision <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">re1</span><span class="op">)</span><span class="op">==</span><span class="fl">0.07692308</span> <span class="co"># FALSE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">re1</span><span class="op">)</span><span class="op">==</span><span class="fl">1</span><span class="op">/</span><span class="fl">13</span>       <span class="co"># TRUE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">re2</span> <span class="op">&lt;-</span> <span class="fu">elascer</span><span class="op">(</span><span class="va">x</span>, lo <span class="op">=</span> <span class="fl">0</span>, hi <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">13</span>, boundaryPrecision <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">re2</span><span class="op">)</span><span class="op">==</span><span class="fl">0.07692308</span> <span class="co"># TRUE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">re2</span><span class="op">)</span><span class="op">==</span><span class="fl">1</span><span class="op">/</span><span class="fl">13</span>       <span class="co"># FALSE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Fred Hasselman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

