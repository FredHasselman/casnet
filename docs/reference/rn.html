<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a Recurrence Network Matrix — rn • casnet</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a Recurrence Network Matrix — rn"><meta property="og:description" content="This function serves as a wrapper for function rp(), it will add some attributes to the matrix related to network representation. These attributes will be used to decide which network type to generate (e.g. undirected, directed, weighted, etc.)"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">casnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/CRQA.html">Recurrence Quantification Analysis</a>
    </li>
    <li>
      <a href="../articles/dynamiccomplexity.html">Dynamic Complexity as an Early-Warning Indicator for Clinical Change</a>
    </li>
    <li>
      <a href="../articles/scalingphenomena.html">Quantifying Scaling Phenomena in Time Series</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/FredHasselman/casnet/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a Recurrence Network Matrix</h1>
    <small class="dont-index">Source: <a href="https://github.com/FredHasselman/casnet/blob/HEAD/R/rn.R" class="external-link"><code>R/rn.R</code></a></small>
    <div class="hidden name"><code>rn.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function serves as a wrapper for function <code><a href="rp.html">rp()</a></code>, it will add some attributes to the matrix related to network representation. These attributes will be used to decide which network type to generate (e.g. undirected, directed, weighted, etc.)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rn</span><span class="op">(</span></span>
<span>  <span class="va">y1</span>,</span>
<span>  y2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  emDim <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  emLag <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  emRad <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  theiler <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  directed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cumulative <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weightedBy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"si"</span>, <span class="st">"rt"</span>, <span class="st">"rf"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>  rescaleWeights <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  fs <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  to.ts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  order.by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  to.sparse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"Euclidean"</span>,</span>
<span>  targetValue <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  returnGraph <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  doPlot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  doEmbed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>y1</dt>
<dd><p>A numeric vector or time series</p></dd>


<dt>y2</dt>
<dd><p>A numeric vector or time series for cross recurrence</p></dd>


<dt>emDim</dt>
<dd><p>The embedding dimensions</p></dd>


<dt>emLag</dt>
<dd><p>The embedding lag</p></dd>


<dt>emRad</dt>
<dd><p>The threshold (emRad) to apply to the distance matrix to create a binary or weighted matrix. If <code>NULL</code>, an unthresholded matrix will be created (default = <code>NULL</code>)</p></dd>


<dt>theiler</dt>
<dd><p>Use a <code>theiler</code> window around the main diagonal (Line of Identity/Synchronisation) to remove auto-correlations at short time-lags:</p><ul><li><p><code>0</code> will include the main diagonal in all RQA measure calculations.</p></li>
<li><p><code>1</code> will remove the main diagonal from all RQA measure calculations.</p></li>
<li><p><code>NA</code> (default), will check if the matrix is symmetrical , if so, it will remove the diagonal by setting <code>theiler = 1</code> (Line of Identity, Auto-RQA), if it is not symmetrical (Line of Synchronisation, Cross-RQA) it will set <code>theiler = 0</code>.</p></li>
<li><p>A value greater than <code>1</code> will remove that many diagonals around and including the diagonal from all RQA measure calculations. So <code>theiler = 2</code> means exclude <code>2</code> diagonals around the main diagonal, including the main diagonal itself: <code>[-1,0,1]</code>.
If <code>theiler</code> is a numeric vector of <code>length(theiler) == 2</code> it is possible to exclude an asymmetrical window. The values are interpreted as end points in a sequence of diagonal ID's, e.g. <code>theiler = c(-1,5)</code> will exclude <code>[-1,0,1,2,3,4,5]</code>. If <code>length(theiler) &gt; 2</code>, the values will be considered individual diagonal ID's, e.g. <code>theiler = c(-3,-1,0,2,5)</code>, will exclude only those specific ID's. Also see the note.</p></li>
</ul></dd>


<dt>directed</dt>
<dd><p>Should the matrix be considered to represent a directed network? (default = <code>FALSE</code>)</p></dd>


<dt>cumulative</dt>
<dd><p>To make the network represent cumulative time, set <code>directed = TRUE</code> and <code>cumulative = TRUE</code>. This will set the upper triangle of the recurrence matrix to <code>0</code> and ensures that the network edges represent recurrent values that have occurred in the <code>past</code> relative to the current observed value (node). If <code>directed = FALSE</code> the argument is ignored (default = <code>TRUE</code>).</p></dd>


<dt>weighted</dt>
<dd><p>Should the matrix be considered to represent a weighted network? (default = <code>FALSE</code>)</p></dd>


<dt>weightedBy</dt>
<dd><p>After setting values smaller than <code>emRad</code> to <code>0</code>, what should the recurrent values represent? The default is to use the state space similarity (distance/proximity) values as weights (<code>"si"</code>). Other option are <code>"rt"</code> for <em>recurrence time</em> and <code>"rf"</code> for <em>recurrence time frequency</em>, Because vertices represent time points in \(\epsilon\)-thresholded recurrence networks, a difference of two vertex-indices represents duration. If an edge <code>e1</code> connects <code>v1</code> and <code>v10</code> then the <em>recurrence time</em> will be the difference of the vertex indices, <code>9</code>, and the <em>recurrence time frequency</em> will be <code>1/9</code>.</p></dd>


<dt>rescaleWeights</dt>
<dd><p>If set to <code>TRUE</code> and <code>weighted = TRUE</code>, all weight values will be rescaled to <code>[0,1]</code>, where <code>0</code> means no recurrence relation and <code>1</code> the maximum weight value.</p></dd>


<dt>fs</dt>
<dd><p>Sample frequency: A numeric value interpreted as the <code>number of observed samples per unit of time</code>. If the weights represent recurrence times (<code>"rt"</code>), they will be divided by the value in <code>fs</code>. If the weights represent recurrence time frequencies (<code>"rf"</code>), they will be multiplied by the value of <code>fs</code> (default = <code>NA</code>)</p></dd>


<dt>to.ts</dt>
<dd><p>Should <code>y1</code> and <code>y2</code> be converted to time series objects?</p></dd>


<dt>order.by</dt>
<dd><p>If <code>to.ts = TRUE</code>, pass a vector of the same length as <code>y1</code> and <code>y2</code>. It will be used as the time index, if <code>NA</code> the vector indices will be used to represent time.</p></dd>


<dt>to.sparse</dt>
<dd><p>Should sparse matrices be used?</p></dd>


<dt>method</dt>
<dd><p>Distance measure to use. Any option that is valid for argument <code>method</code> of <code>proxy::dist()</code>. Type <code>proxy::pr_DB$get_entries()</code> to see a list of all the options. Common methods are: <code>"Euclidean", "Manhattan", "Minkowski", "Chebysev"</code> (or the same but shorter: <code>"L2","L1","Lp", "max"</code> distance). To use the shape based distance for phase-based recurrence use <code>"SBD"</code> (default = <code>"Euclidean"</code>)</p></dd>


<dt>targetValue</dt>
<dd><p>A value passed to <code>est_radius(...,type="fixed", targetMeasure="RR")</code> if <code>is.na(emRad)==TRUE</code>.</p></dd>


<dt>returnGraph</dt>
<dd><p>Return an <code><a href="https://r.igraph.org/reference/aaa-igraph-package.html" class="external-link">igraph::igraph()</a></code> object (default = <code>FALSE</code>)</p></dd>


<dt>doPlot</dt>
<dd><p>Plot the matrix by calling <code><a href="rp_plot.html">rp_plot()</a></code> with default settings</p></dd>


<dt>doEmbed</dt>
<dd><p>If <code>FALSE</code>, a distance matrix will be returned that is not embedded by <code>emDim</code> and <code>emLag</code> (Multidimensional RQA). If <code>y1</code> and/or <code>y2</code> are data frames, the columns will be used as the state space dimensions (default = <code>TRUE</code>)</p></dd>


<dt>silent</dt>
<dd><p>Silent-ish mode</p></dd>


<dt>...</dt>
<dd><p>Any paramters to pass to <code><a href="rn_plot.html">rn_plot()</a></code> if <code>doPlot = TRUE</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A (Coss-) Recurrence matrix that can be interpreted as an adjacency (or incidence) matrix.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Distance matrix operations (recurrence network): 
<code><a href="mat_di2bi.html">mat_di2bi</a>()</code>,
<code><a href="mat_di2ch.html">mat_di2ch</a>()</code>,
<code><a href="mat_di2we.html">mat_di2we</a>()</code>,
<code><a href="rn_phases.html">rn_phases</a>()</code>,
<code><a href="rn_plot.html">rn_plot</a>()</code>,
<code><a href="rn_recSpec.html">rn_recSpec</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Fred Hasselman.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

